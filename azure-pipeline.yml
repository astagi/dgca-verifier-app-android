name: dgca-verifier-app-android

trigger:
- none

resources:
  repositories:
  - repository: dgca-app-core-android
    type: github
    name: eu-digital-green-certificates/dgca-app-core-android
    ref: 'refs/heads/main'
    endpoint: 'GitHub - it-eucert-team'

pool:
  vmImage: 'macos-latest'

steps:

- checkout: self
  clean: true
- checkout: dgca-app-core-android
- script: |
    ls -l
- task: Gradle@2
  inputs:
    gradleWrapperFile: 'dgca-app-core-android/gradlew'
    workingDirectory: 'dgca-app-core-android'
    options: '--debug'
    tasks: 'build'
    publishJUnitResults: false
    javaHomeOption: 'JDKVersion'
    jdkVersionOption: '1.8'
    gradleOptions: '-Xmx3072m'
    sonarQubeRunAnalysis: false
    spotBugsAnalysis: false
- task: Gradle@2
  inputs:
    gradleWrapperFile: 'dgca-verifier-app-android/gradlew'
    workingDirectory: 'dgca-verifier-app-android'
    options: '--debug'
    tasks: 'build'
    publishJUnitResults: false
    javaHomeOption: 'JDKVersion'
    jdkVersionOption: '1.8'
    gradleOptions: '-Xmx3072m'
    sonarQubeRunAnalysis: false
    spotBugsAnalysis: false
